# ğŸ“˜ Fitness Booking API - Full API Documentation

A RESTful backend application for a fictional fitness studio built using **FastAPI + SQLite**.  
Clients can view available fitness classes (Yoga, Zumba, HIIT) and book slots.

---

## ğŸš€ Base URL

http://localhost:8000

> Use with Postman, Swagger (`/docs`), or `curl`.

---

## ğŸ“Œ API Endpoints

---

### âœ… 1. `GET /classes`

**Description**: Get all upcoming fitness classes.  
**Supports timezone conversion** via the `timezone` query parameter.

#### ğŸ”¹ Query Parameters

| Name     | Type   | Default       | Description                          |
|----------|--------|---------------|--------------------------------------|
| timezone | string | Asia/Kolkata  | IANA timezone (e.g., America/New_York) |

#### âœ… Example Request

GET /classes?timezone=America/New_York

#### âœ… Sample Response

```json
[
  {
    "id": 1,
    "name": "Yoga",
    "instructor": "Alice",
    "date_time": "2025-07-08T08:00:00-04:00",
    "available_slots": 9
  }
]
âœ… 2. POST /book
Description: Book a spot in a class using class ID, client name, and email.

ğŸ”¹ Request Body
{
  "class_id": 1,
  "client_name": "John Doe",
  "client_email": "john@example.com"
}
âœ… Success Response
{
  "id": 1,
  "class_id": 1,
  "client_name": "John Doe",
  "client_email": "john@example.com"
}
âŒ Error Responses
Code	Reason	Message
404	Class not found	Class not found
400	No available slots	No slots available
422	Validation error	Missing/invalid fields

âœ… 3. GET /bookings
Description: Retrieve all bookings made by a specific client email.

ğŸ”¹ Query Parameters
Name	Type	Required	Description
email	string	âœ… Yes	Email address of the client

âœ… Example Request

GET /bookings?email=john@example.com
âœ… Sample Response

[
  {
    "id": 1,
    "class_id": 1,
    "client_name": "John Doe",
    "client_email": "john@example.com"
  }
]
â° Timezone Support
All classes are stored in IST (Asia/Kolkata).

Convert class times to any timezone using /classes?timezone=....

Example: Europe/London, America/New_York, Asia/Tokyo.

ğŸ§ª Testing
Run all tests:

pytest
Test file:

/tests/test_main.py

Covers:

Root route
Get classes
Book invalid class
Bookings by email

## ğŸ“‚ Project Structure

fitness-booking-api/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py              # Main FastAPI app
â”‚   â”œâ”€â”€ db.py                # SQLite + SQLAlchemy setup
â”‚   â”œâ”€â”€ models.py            # Pydantic and DB models
â”‚   â”œâ”€â”€ utils.py             # Timezone conversion helper
â”‚   â”œâ”€â”€ seed.py              # Seed class data
â”‚   â”œâ”€â”€ fitness.db           # âœ… SQLite database (auto-created)
â”‚   â””â”€â”€ __init__.py          # Required for Python packages
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_main.py         # API tests using pytest
â”œâ”€â”€ Dockerfile               # Docker setup
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ README.md                # Setup + usage instructions
â”œâ”€â”€ API Documentation     # âœ… Full API reference

You can interact with the API via:

Swagger UI: http://localhost:8000/docs

ReDoc: http://localhost:8000/redoc

## âœ… Features Summary

ğŸ§˜ View and book fitness classes

ğŸŒ Timezone-aware class times

ğŸ§ª Fully tested with pytest

âŒ Handles edge cases (invalid ID, overbooking)

ğŸš« CORS enabled for frontend integration

ğŸ’¾ SQLite in-memory DB (no setup needed)

âš™ï¸ Auto-load seed data on startup

# ğŸ§‘â€ğŸ’» Developer Info

Author: Abhishek Vats
Role: Python Developer Assignment â€“ Fullstack API
Date: July 2025
Submission: Includes code, tests, API docs, and Loom video